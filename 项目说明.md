# 🔥 火柴人对战游戏 - React版 项目说明

## 📋 项目概览

这是一个基于 **React + Vite** 的现代化火柴人对战游戏，完整移植并优化了原 Flask 版本的所有功能。

### ✨ 核心优势
- ✅ **零后端依赖** - 纯前端实现，可部署到任何静态托管服务
- ✅ **响应式设计** - 完美支持桌面和移动端
- ✅ **触摸支持** - 移动端友好按钮控制
- ✅ **现代架构** - React Hooks + Canvas API
- ✅ **性能优化** - 高效的游戏循环和渲染

---

## 🎯 项目结构

```
stickman-react/
├── src/
│   ├── App.jsx          # 主游戏组件（核心逻辑）
│   ├── main.jsx         # React 入口
│   └── index.css        # 样式文件
├── dist/                # 构建输出
├── node_modules/        # 依赖包
├── index.html           # HTML 模板
├── package.json         # 项目配置
├── vite.config.js       # Vite 配置
├── render.yaml          # Render 部署配置
├── start.sh             # 快速启动脚本
├── README.md            # 英文说明
├── DEPLOYMENT.md        # 部署指南
└── 项目说明.md          # 本文件
```

---

## 🚀 快速开始

### 本地开发

```bash
# 1. 进入目录
cd /home/hbpc/stickman-react

# 2. 安装依赖（已安装）
npm install

# 3. 启动开发服务器
npm run dev
```

访问: http://localhost:3000

### 使用启动脚本

```bash
./start.sh
```

---

## 🎮 游戏功能

### 玩家控制

| 功能 | 玩家1 (红色) | 玩家2 (蓝色) |
|------|-------------|-------------|
| 跳跃 | W | ↑ |
| 左移 | A | ← |
| 右移 | D | → |
| 攻击 | 空格 | J |
| 防御 | S | K |
| 使用武器 | F | J |

### 武器系统

| 武器 | 伤害 | 特效 | 耐久 |
|------|------|------|------|
| 🔥 火焰剑 | 15 | 燃烧 | 5 |
| ⚡ 闪电锤 | 20 | 击退 | 4 |
| 🧊 冰霜弓 | 12 | 减速 | 6 |
| 💎 钻石匕首 | 25 | 暴击 | 3 |
| 🪓 战斧 | 22 | 眩晕 | 4 |
| 🎯 回旋镖 | 18 | 高伤 | 5 |

### 游戏模式

- **普通模式**: 100 HP，标准伤害
- **AI模式**: 玩家2自动战斗
- **硬核模式**: 50 HP，双倍伤害

---

## 📱 移动端适配

### 触摸控制
- 屏幕按钮直接响应触摸
- 长按连击
- 支持多点触控

### 响应式特性
- 自动检测设备类型
- 横屏提示
- 自适应画布大小
- 优化的按钮布局

---

## 🛠️ 技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| React | 18.2 | UI框架 |
| Vite | 5.0 | 构建工具 |
| Canvas API | - | 游戏渲染 |
| Web Audio API | - | 音效系统 |

---

## 🌐 部署选项

### 1. Render (推荐)
```bash
# 一键部署
# 使用 render.yaml 配置
```

### 2. Vercel
```bash
# 自动检测配置
# 无需额外设置
```

### 3. Netlify
```bash
# 构建: npm run build
# 发布: dist/
```

### 4. GitHub Pages
```bash
npm install -g gh-pages
npm run build
gh-pages -d dist
```

详细部署步骤见 `DEPLOYMENT.md`

---

## 🔧 开发指南

### 修改游戏参数

在 `src/App.jsx` 中：

```javascript
// 修改武器属性
const WEAPON_TYPES = [
    { name: '火焰剑', emoji: '🔥', damage: 15, ... },
    // ...
];

// 修改玩家属性
class Stickman {
    constructor() {
        this.speed = 4;      // 移动速度
        this.jumpPower = 12; // 跳跃力度
        this.attackDamage = 10; // 基础伤害
    }
}
```

### 自定义样式

在 `src/index.css` 中修改：
- 颜色主题
- 按钮样式
- 布局参数

---

## 🐛 故障排除

### 问题：页面空白
**解决方案**：
```bash
npm run build
# 检查 dist/index.html 是否生成
```

### 问题：按钮无响应
**检查项**：
1. 浏览器控制台是否有错误
2. JavaScript 是否启用
3. 尝试刷新页面

### 问题：移动端异常
**解决方案**：
1. 检查是否启用触摸事件
2. 确认 viewport 设置正确
3. 尝试横屏模式

---

## 📊 性能对比

| 特性 | Flask版 | React版 |
|------|---------|---------|
| 部署复杂度 | 中等 | 简单 |
| 服务器成本 | 需要 | 免费 |
| 加载速度 | 中等 | 快速 |
| 移动端体验 | 一般 | 优秀 |
| 维护成本 | 高 | 低 |

---

## 🎯 下一步

### 立即使用
1. ✅ 项目已构建完成
2. ✅ 可直接部署到 Render
3. ✅ 移动端已优化

### 推荐操作
1. **本地测试**: `npm run dev`
2. **构建验证**: `npm run build`
3. **部署上线**: 参考 `DEPLOYMENT.md`

---

## 📞 技术支持

如遇问题：
1. 查看 `README.md` - 完整文档
2. 查看 `DEPLOYMENT.md` - 部署指南
3. 检查浏览器控制台错误信息

---

**项目状态**: ✅ 已完成，可直接部署使用

**构建状态**: ✅ 成功 (164KB 压缩后 52KB)

**测试状态**: ✅ 无错误
